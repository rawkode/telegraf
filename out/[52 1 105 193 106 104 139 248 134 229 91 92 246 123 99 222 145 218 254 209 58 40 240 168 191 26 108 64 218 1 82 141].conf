[agent]
  hostname = "Citadel_dev"

# CPU usage
[[inputs.cpu]]
  ## Whether to report per-cpu stats or not
  percpu = true
  ## Whether to report total system cpu stats or not
  totalcpu = true
  ## If true, collect raw CPU time metrics.
  collect_cpu_time = false

# Disk usage by mount point
[[inputs.disk]]
  ## By default, telegraf gather stats for all mountpoints.
  ## Setting mountpoints will restrict the stats to the specified mountpoints.
  # mount_points = ["/"]

# Memory usage
[[inputs.mem]]
  # no configuration

# Get the number of processes and group them by status
[[inputs.processes]]
  # no configuration


# SWAP memory usage
[[inputs.swap]]
  # no configuration


# System load & uptime
[[inputs.system]]
  # no configuration

# Network
[[inputs.net]]
  ## By default, telegraf gathers stats from any up interface (excluding loopback)
  ## Setting interfaces will tell it to gather these explicit interfaces,
  ## regardless of status.
  ##
  # interfaces = ["eth0"]
  ##
  ## On linux systems telegraf also collects protocol stats.
  ## Setting ignore_protocol_stats to true will skip reporting of protocol metrics.
  ##
  # ignore_protocol_stats = false
  ##

# Collect TCP connections state and UDP socket counts
[[inputs.netstat]]
  # no configuration

# Read metrics about disk IO by device
[[inputs.diskio]]
  ## By default, telegraf will gather stats for all devices including
  ## disk partitions.

# Get kernel statistics from /proc/stat
[[inputs.kernel]]
  # no configuration
  # DOCKER WARNING

# Nginx
[[inputs.nginx]]
    urls = ["http://nginx:8090/nginx_status"]

[[inputs.logparser]]
  files = ["/var/log/nginx/ng_access.log"]
  from_beginning = true
  name_override = "nginx_access_log"
  [inputs.logparser.grok]
    patterns = ["%{COMBINED_LOG_FORMAT}"]


[[outputs.influxdb]]
	urls = ["http://monitor.juntoteam.com:8086"]
	database = "telegraf"

	## HTTP Basic Auth
    username = "telegraf"
    password = "telegraf"

    ## Timeout for HTTP messages.
    timeout = "5s"

